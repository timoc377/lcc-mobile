(function(){function u(){var i=window.location.hash;if(!i){s.slidePage((new eventView(r,e,t)).render().el)}else{if(i.indexOf("prayers")!=-1){if(i.indexOf("/")!=-1){var o=i.split("/"),u=o[1];r.findPrayerById(Number(u)).done(function(e){e.pageTitle="Prayers";s.slidePage((new prayerDetailView(r,n,e)).render().el)})}else{s.slidePage((new prayersView(r,e,t)).render().el)}}if(i.indexOf("notices")!=-1){if(i.indexOf("/")!=-1){var o=i.split("/"),u=o[1];r.findNoticeById(Number(u)).done(function(e){e.pageTitle="Notices";s.slidePage((new noticesDetailView(r,n,e)).render().el)})}else{s.slidePage((new noticesView(r,e,t)).render().el)}}if(i.indexOf("event")!=-1){var o=i.split("/"),u=o[1];r.findEventById(Number(u)).done(function(e){e.pageTitle="Events";s.slidePage((new eventsDetailView(r,n,e)).render().el)})}}}var e=Handlebars.compile($("#home-tpl").html()),t=Handlebars.compile($("#list-tpl").html()),n=Handlebars.compile($("#event-detail-tpl").html()),r=new JSONPAdapter,i=/^#employees\/(\d{1,})/,s=new PageSlider($("body")),o=window.location.hash;Handlebars.registerHelper("ifCond",function(e,t,n){if(e===t){return n.fn(this)}return n.inverse(this)});r.initialize().done(function(){u()});document.addEventListener("deviceready",function(){if(navigator.notification){window.alert=function(e){navigator.notification.alert(e,null,"Lighthouse Connect","Ok")}}},false);FastClick.attach(document.body);$(window).on("hashchange",u)})()